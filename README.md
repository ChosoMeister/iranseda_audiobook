# ๐ IranSeda Audiobook Scraper

**IranSeda Audiobook Scraper** ฺฉ ุงุจุฒุงุฑ ุฎุท ูุฑูุงู (CLI) ุจุฑุง ุฌูุนโุขูุฑ ู ูพุฑุฏุงุฒุด ุงุทูุงุนุงุช ฺฉุชุงุจโูุง ุตูุช ูุจโุณุงุช [book.iranseda.ir](https://book.iranseda.ir) ุงุณุช.  
ุงู ุงุณฺฉุฑูพุฑ ุตูุญุงุช ูุณุช ฺฉุชุงุจโูุง ุฑุง ูพูุงุด ฺฉุฑุฏูุ ุฌุฒุฆุงุช ูุฑ ฺฉุชุงุจ ุฑุง ุงุณุชุฎุฑุงุฌ ูโฺฉูุฏุ ููฺฉโูุง ูพุฎุด ู ุฏุงูููุฏ MP3 ุฑุง ุงุฒ API ุฑุณู ูโฺฏุฑุฏ ู ุฎุฑูุฌ ููุง ุฑุง ุฏุฑ ูุงูุจ CSV ุฐุฎุฑู ูโฺฉูุฏ.

---

## โจ ูฺฺฏโูุง

- **ุฎุฒุด (Crawling)** ุตูุญุงุช ูุณุช ฺฉุชุงุจโูุง (ุตูุญู ฑ ุชุง N) ู ุฌูุนโุขูุฑ ุดูุงุณูโูุง ู ููฺฉโูุง
- **ูพุฑุฏุงุฒุด (Enriching)** ู ุงุณุชุฎุฑุงุฌ ูุชุงุฏุชุง ุงุฒ ุตูุญู ุฌุฒุฆุงุช ฺฉุชุงุจ
- **ุฏุฑุงูุช ููฺฉ ูพุฎุด ู MP3** ุงุฒ API ุฑุณู ุจุฏูู ูุงุณุทู CSV
- ุฐุฎุฑู ุฎุฑูุฌ ุฏุฑ ูุงูุจ **UTF-8-SIG** (ุณุงุฒฺฏุงุฑ ุจุง Excel ูุงุฑุณ)
- ูพุดุชุจุงู ุงุฒ **Throttle ุชุตุงุฏู** ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุจูุงฺฉ ุดุฏู IP
- **Atomic CSV Write** ุจุฑุง ุงุฏุงูู ฺฉุงุฑ ุงูู ุฏุฑ ุตูุฑุช ุชููู

---

## ๐ฆ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

```bash
# ุงุฌุงุฏ ูุญุท ูุฌุงุฒ
python -m venv .venv

# ูุนุงูโุณุงุฒ ูุญุท ูุฌุงุฒ
source .venv/bin/activate        # ุฑู ูููฺฉุณ/ูฺฉ
.venv\Scripts\activate           # ุฑู ููุฏูุฒ

# ูุตุจ ูุงุจุณุชฺฏโูุง
pip install -r requirements.txt
```

---

## ๐ ูุญูู ุงุณุชูุงุฏู

### ุงุฌุฑุง ฺฉุงูู ุจุง ูุงู ฺฉุงููฺฏ YAML
```bash
python -m iranseda.cli run --config configs/config.yaml
```

### ุงุฌุฑุง ูุฑุญููโุง (ุงุฎุชุงุฑ - ุญุงูุช ูุฏู)
```bash
# ูุฑุญูู ฑ: ุฎุฒุด ูุณุช ฺฉุชุงุจโูุง
python -m iranseda.cli crawl --config configs/config.yaml

# ูุฑุญูู ฒ: ูพุฑุฏุงุฒุด ุฌุฒุฆุงุช ู ุฏุงูููุฏ ููฺฉโูุง
python -m iranseda.cli enrich --config configs/config.yaml
```

> **ูฺฉุชู:** ุฏุณุชูุฑ `run` ุจู ุตูุฑุช ูพุดโูุฑุถ ูุฑ ุฏู ูุฑุญูู ุฑุง ุจุฏูู ูุงุฒ ุจู ูุงู ูุงู ุงูุฌุงู ูโุฏูุฏ.

---

## โ๏ธ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
iranseda_audiobook/
โ
โโโ configs/                # ูุงูโูุง ูพฺฉุฑุจูุฏ YAML
โโโ output/                 # ุฎุฑูุฌโูุง (CSV ู ุฏุงุฏูโูุง ูพุฑุฏุงุฒุดโุดุฏู)
โโโ scripts/                # ุงุณฺฉุฑูพุชโูุง ุดู ุจุฑุง ุงุฌุฑุง ุณุฑุน
โโโ src/iranseda/           # ฺฉุฏ ุงุตู ูพุฑูฺู
โ   โโโ cli.py               # ุฑุงุจุท ุฎุท ูุฑูุงู
โ   โโโ listing.py           # ูุงฺูู ุฎุฒุด ุตูุญุงุช
โ   โโโ details.py           # ูุงฺูู ูพุฑุฏุงุฒุด ุฌุฒุฆุงุช
โ   โโโ pipeline.py          # ุงุฌุฑุง ฺฉูพุงุฑฺู
โ   โโโ utils.py             # ุชูุงุจุน ฺฉูฺฉ
โ   โโโ config.py            # ุจุงุฑฺฏุฐุงุฑ ุชูุธูุงุช
โโโ tests/                  # ุชุณุชโูุง ูุงุญุฏ
โโโ requirements.txt        # ูุงุจุณุชฺฏโูุง ูพุงุชูู
โโโ pyproject.toml           # ุชูุธูุงุช ูพฺฉุฌ
โโโ README.md
```

---

## ๐ ูุงูุจ ุฎุฑูุฌ CSV

ุฎุฑูุฌ ุจู ุตูุฑุช UTF-8-SIG ุฐุฎุฑู ูโุดูุฏ ู ุดุงูู ุณุชููโูุง ุฒุฑ ุงุณุช:

| ุณุชูู | ุชูุถุญ |
|------|-------|
| Title | ุนููุงู ฺฉุชุงุจ |
| Author | ููุณูุฏู |
| Narrator | ฺฏููุฏู |
| Duration | ูุฏุช ุฒูุงู |
| Cover_Image_URL | ููฺฉ ุชุตูุฑ ุฌูุฏ |
| Source_URL | ููฺฉ ุตูุญู ฺฉุชุงุจ |
| Player_Link | ููฺฉ ูพุฎุด ุขููุงู |
| FullBook_MP3_URL | ููฺฉ ุฏุงูููุฏ ฺฉุงูู |
| All_MP3s_Found | ููู ููฺฉโูุง MP3 |

---

## ๐งช ุงุฌุฑุง ุชุณุชโูุง

```bash
pytest tests/
```

---

## ๐ ูุงุจุณุชฺฏโูุง

- Python 3.10+
- Requests
- PyYAML
- BeautifulSoup4

---

## ๐ ูุงุณูุณ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ **MIT** ููุชุดุฑ ุดุฏู ุงุณุช.  
ุขุฒุงุฏุฏ ุงุฒ ุขู ุงุณุชูุงุฏู ู ุชุบุฑ ุฏูุฏ.
